{"ast":null,"code":"var _jsxFileName = \"D:\\\\BlockChain Projects\\\\Auction Dapp Msc Project\\\\auction-dapp\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport Web3 from \"web3\";\nimport Auction from './truffle_abis/Auction.json';\nimport { Component, useEffect, useState } from 'react';\n/*\nclass App extends Component {\n\n  // Load web3 \n\n  async UNSAFE_componentWillMount()\n  {\n    await this.LoadWeb3();\n    await this.LoadBlockChain();\n  }\n\n  async LoadWeb3(){\n    if(window.ethereum)\n    {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    }\n    else if(window.web3)\n    {\n      window.web3 = new Web3 (window.web3.currentProvider)\n    }\n    else{\n      window.alert('No Wallet Detected');\n    }\n  }\n  async LoadBlockChain(){\n    const web3 = window.web3\n    const account = await web3.eth.getAccounts(); // getting account that is connected\n    //this.setState({connected_account:account});\n\n    //Ganache Network ID\n    const networkID = await web3.eth.net.getId();\n\n    //Loading Contract\n    const ContractData = Auction.networks[networkID];\n\n    if(ContractData){\n      console.log(\"HERE\");\n      const cont = new web3.eth.Contract(Auction.abi,ContractData.address);\n     \n      const va = await cont.methods.GetVal().call();\n      console.log(\"VAL: \" + va);\n    }\n    else\n    {\n      console.log(\"Nod Data\");\n    }\n  }\n\n  // states\n  constructor(props){\n    super(props)\n    this.state ={\n\n    };\n  }\n  // React Part\n  render(){\n    return (\n      <div>\n        <p>Test</p>\n      </div>\n    );\n  }\n  \n}*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  useEffect(() => {\n    //await this.LoadWeb3();\n    async function LoadWeb3() {\n      if (window.ethereum) {\n        window.web3 = new Web3(window.ethereum);\n        await window.ethereum.enable();\n      } else if (window.web3) {\n        window.web3 = new Web3(window.web3.currentProvider);\n      } else {\n        window.alert('No Wallet Detected');\n      }\n    }\n    async function LoadBlockChain() {\n      const web3 = window.web3;\n      const account = await web3.eth.getAccounts(); // getting account that is connected\n      setstates(states.accounts = account);\n\n      //Ganache Network ID\n      const networkID = await web3.eth.net.getId();\n\n      //Loading Contract\n      const ContractData = Auction.networks[networkID];\n      if (ContractData) {\n        const cont = new web3.eth.Contract(Auction.abi, ContractData.address);\n        setstates(states.auction_contract = cont);\n      } else {\n        console.log(\"No Data\");\n      }\n    }\n    LoadWeb3();\n    LoadBlockChain();\n  }, []);\n  const [states, setstates] = useState({\n    current_connected_account: '0x00',\n    // current metamask conencted account\n    auction_owner: '0x00',\n    // owner of the item\n    auction_contract: {},\n    // auction contract\n    bid_placed: 0,\n    // current bid placed\n    prev_addr: '0x0000000000000',\n    // address of previous highest bidder\n    curr_addr: '0x0000000000000',\n    // adddress of current highest bidder\n    prev_amount: '0',\n    // previous highest bid amount\n    curr_amount: '0',\n    // current highest bid amount\n    loading: true // to use for when waiting for a process to complete\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Auction Dapp\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"7jbLHp4KBg8oNaAMrXiPUAQPiC0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Web3","Auction","Component","useEffect","useState","App","LoadWeb3","window","ethereum","web3","enable","currentProvider","alert","LoadBlockChain","account","eth","getAccounts","setstates","states","accounts","networkID","net","getId","ContractData","networks","cont","Contract","abi","address","auction_contract","console","log","current_connected_account","auction_owner","bid_placed","prev_addr","curr_addr","prev_amount","curr_amount","loading"],"sources":["D:/BlockChain Projects/Auction Dapp Msc Project/auction-dapp/src/App.js"],"sourcesContent":["import './App.css';\nimport Web3 from \"web3\";\nimport Auction from './truffle_abis/Auction.json';\nimport { Component, useEffect , useState } from 'react';\n/*\nclass App extends Component {\n\n  // Load web3 \n\n  async UNSAFE_componentWillMount()\n  {\n    await this.LoadWeb3();\n    await this.LoadBlockChain();\n  }\n\n  async LoadWeb3(){\n    if(window.ethereum)\n    {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    }\n    else if(window.web3)\n    {\n      window.web3 = new Web3 (window.web3.currentProvider)\n    }\n    else{\n      window.alert('No Wallet Detected');\n    }\n  }\n  async LoadBlockChain(){\n    const web3 = window.web3\n    const account = await web3.eth.getAccounts(); // getting account that is connected\n    //this.setState({connected_account:account});\n\n    //Ganache Network ID\n    const networkID = await web3.eth.net.getId();\n\n    //Loading Contract\n    const ContractData = Auction.networks[networkID];\n\n    if(ContractData){\n      console.log(\"HERE\");\n      const cont = new web3.eth.Contract(Auction.abi,ContractData.address);\n     \n      const va = await cont.methods.GetVal().call();\n      console.log(\"VAL: \" + va);\n    }\n    else\n    {\n      console.log(\"Nod Data\");\n    }\n  }\n\n  // states\n  constructor(props){\n    super(props)\n    this.state ={\n\n    };\n  }\n  // React Part\n  render(){\n    return (\n      <div>\n        <p>Test</p>\n      </div>\n    );\n  }\n  \n}*/\n\nfunction App(){\n  useEffect(()=>{\n\n    //await this.LoadWeb3();\n    async function LoadWeb3(){\n      if(window.ethereum)\n      {\n        window.web3 = new Web3(window.ethereum);\n        await window.ethereum.enable();\n      }\n      else if(window.web3)\n      {\n        window.web3 = new Web3 (window.web3.currentProvider)\n      }\n      else{\n        window.alert('No Wallet Detected');\n      }\n    }\n    async function LoadBlockChain(){\n      const web3 = window.web3\n      const account = await web3.eth.getAccounts(); // getting account that is connected\n      setstates(states.accounts = account);\n  \n      //Ganache Network ID\n      const networkID = await web3.eth.net.getId();\n  \n      //Loading Contract\n      const ContractData = Auction.networks[networkID];\n  \n      if(ContractData){\n        const cont = new web3.eth.Contract(Auction.abi,ContractData.address);\n        setstates(states.auction_contract = cont);\n      }\n      else\n      {\n        console.log(\"No Data\");\n      }\n    }\n    LoadWeb3();\n    LoadBlockChain();\n  \n  },[])\n  const [states,setstates] = useState({\n    current_connected_account : '0x00', // current metamask conencted account\n    auction_owner:'0x00', // owner of the item\n    auction_contract: {}, // auction contract\n    bid_placed:0, // current bid placed\n    prev_addr:'0x0000000000000',// address of previous highest bidder\n    curr_addr:'0x0000000000000', // adddress of current highest bidder\n    prev_amount:'0',// previous highest bid amount\n    curr_amount:'0',// current highest bid amount\n    loading : true, // to use for when waiting for a process to complete\n  })\n  return(\n    <div>\n      Auction Dapp\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAO,WAAW;AAClB,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,OAAO,MAAM,6BAA6B;AACjD,SAASC,SAAS,EAAEC,SAAS,EAAGC,QAAQ,QAAQ,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjEA;AAmEA,SAASC,GAAG,GAAE;EAAA;EACZF,SAAS,CAAC,MAAI;IAEZ;IACA,eAAeG,QAAQ,GAAE;MACvB,IAAGC,MAAM,CAACC,QAAQ,EAClB;QACED,MAAM,CAACE,IAAI,GAAG,IAAIT,IAAI,CAACO,MAAM,CAACC,QAAQ,CAAC;QACvC,MAAMD,MAAM,CAACC,QAAQ,CAACE,MAAM,EAAE;MAChC,CAAC,MACI,IAAGH,MAAM,CAACE,IAAI,EACnB;QACEF,MAAM,CAACE,IAAI,GAAG,IAAIT,IAAI,CAAEO,MAAM,CAACE,IAAI,CAACE,eAAe,CAAC;MACtD,CAAC,MACG;QACFJ,MAAM,CAACK,KAAK,CAAC,oBAAoB,CAAC;MACpC;IACF;IACA,eAAeC,cAAc,GAAE;MAC7B,MAAMJ,IAAI,GAAGF,MAAM,CAACE,IAAI;MACxB,MAAMK,OAAO,GAAG,MAAML,IAAI,CAACM,GAAG,CAACC,WAAW,EAAE,CAAC,CAAC;MAC9CC,SAAS,CAACC,MAAM,CAACC,QAAQ,GAAGL,OAAO,CAAC;;MAEpC;MACA,MAAMM,SAAS,GAAG,MAAMX,IAAI,CAACM,GAAG,CAACM,GAAG,CAACC,KAAK,EAAE;;MAE5C;MACA,MAAMC,YAAY,GAAGtB,OAAO,CAACuB,QAAQ,CAACJ,SAAS,CAAC;MAEhD,IAAGG,YAAY,EAAC;QACd,MAAME,IAAI,GAAG,IAAIhB,IAAI,CAACM,GAAG,CAACW,QAAQ,CAACzB,OAAO,CAAC0B,GAAG,EAACJ,YAAY,CAACK,OAAO,CAAC;QACpEX,SAAS,CAACC,MAAM,CAACW,gBAAgB,GAAGJ,IAAI,CAAC;MAC3C,CAAC,MAED;QACEK,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACxB;IACF;IACAzB,QAAQ,EAAE;IACVO,cAAc,EAAE;EAElB,CAAC,EAAC,EAAE,CAAC;EACL,MAAM,CAACK,MAAM,EAACD,SAAS,CAAC,GAAGb,QAAQ,CAAC;IAClC4B,yBAAyB,EAAG,MAAM;IAAE;IACpCC,aAAa,EAAC,MAAM;IAAE;IACtBJ,gBAAgB,EAAE,CAAC,CAAC;IAAE;IACtBK,UAAU,EAAC,CAAC;IAAE;IACdC,SAAS,EAAC,iBAAiB;IAAC;IAC5BC,SAAS,EAAC,iBAAiB;IAAE;IAC7BC,WAAW,EAAC,GAAG;IAAC;IAChBC,WAAW,EAAC,GAAG;IAAC;IAChBC,OAAO,EAAG,IAAI,CAAE;EAClB,CAAC,CAAC;;EACF,oBACE;IAAA,UAAK;EAEL;IAAA;IAAA;IAAA;EAAA,QAAM;AAEV;AAAC,GA1DQlC,GAAG;AAAA,KAAHA,GAAG;AA4DZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}