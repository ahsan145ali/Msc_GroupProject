{"ast":null,"code":"var _jsxFileName = \"D:\\\\BlockChain Projects\\\\Auction Dapp Msc Project\\\\auction-dapp\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Web3 from \"web3\";\nimport Auction from \"./truffle_abis/Auction.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  /* LOAD WEB 3 */\n  async UNSAFE_componentWillMount() {\n    await this.LoadWeb3();\n    await this.LoadBlockChain();\n  }\n  async LoadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      window.alert('No Wallet Detected');\n    }\n  }\n  async LoadBlockChain() {\n    const web3 = window.web3;\n    const account = await web3.eth.getAccounts(); // getting account that is connected\n    this.setState({\n      connected_account: account\n    });\n\n    //Ganache Network ID\n    const networkID = await web3.eth.net.getId();\n\n    //Loading Contract\n    const ContractData = Auction.networks[networkID];\n    if (ContractData) {\n      const cont = new web3.eth.Contract(Auction.abi, ContractData.address);\n      // Set contract to state here\n      this.SetContract(cont);\n      //this.GetAuctionOwner();\n    }\n  }\n\n  SetContract(cont2) {\n    console.log(\"HADD: \", cont2);\n    this.setState({\n      auction_contract: cont2\n    });\n    c;\n  }\n  async GetAuctionOwner() {\n    const addr = await this.state.auction_contract.methods.GetOwner().call();\n    this.setState({\n      auction_owner: addr\n    });\n  }\n  constructor(props) {\n    super(props);\n    this.state = {\n      auction_owner: '0x0',\n      connected_account: '0x000',\n      bid_placed: 0,\n      prev_addr: '0x0000000000000',\n      curr_addr: '0x0000000000000',\n      prev_amount: '0',\n      curr_amount: '0',\n      loading: true,\n      Timer: Number(localStorage.getItem('Timer')),\n      auction_contract: {}\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","Web3","Auction","App","UNSAFE_componentWillMount","LoadWeb3","LoadBlockChain","window","ethereum","web3","enable","currentProvider","alert","account","eth","getAccounts","setState","connected_account","networkID","net","getId","ContractData","networks","cont","Contract","abi","address","SetContract","cont2","console","log","auction_contract","c","GetAuctionOwner","addr","state","methods","GetOwner","call","auction_owner","constructor","props","bid_placed","prev_addr","curr_addr","prev_amount","curr_amount","loading","Timer","Number","localStorage","getItem","render"],"sources":["D:/BlockChain Projects/Auction Dapp Msc Project/auction-dapp/src/App.js"],"sourcesContent":["import React, {Component} from 'react';\nimport Web3 from \"web3\";\nimport Auction from \"./truffle_abis/Auction.json\"\n\n\nclass App extends Component {\n\n  /* LOAD WEB 3 */\n    async UNSAFE_componentWillMount(){\n      await this.LoadWeb3();\n      await this.LoadBlockChain();\n    \n    }\n\n   \n  async LoadWeb3(){\n    if(window.ethereum)\n    {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    }\n    else if(window.web3)\n    {\n      window.web3 = new Web3 (window.web3.currentProvider)\n    }\n    else{\n      window.alert('No Wallet Detected');\n    }\n  }\n\n  async LoadBlockChain(){\n    const web3 = window.web3\n    const account = await web3.eth.getAccounts(); // getting account that is connected\n    this.setState({connected_account:account});\n\n    //Ganache Network ID\n    const networkID = await web3.eth.net.getId();\n\n    //Loading Contract\n    const ContractData = Auction.networks[networkID];\n\n    if(ContractData){\n      const cont = new web3.eth.Contract(Auction.abi,ContractData.address);\n      // Set contract to state here\n      this.SetContract(cont);\n      //this.GetAuctionOwner();\n     \n\n    }\n   \n  }\n\n  SetContract (cont2){\n    console.log(\"HADD: \" , cont2);\n    this.setState({auction_contract:cont2});\n    c\n  }\n    async GetAuctionOwner(){\n    const addr = await this.state.auction_contract.methods.GetOwner().call();\n    this.setState({auction_owner:addr});\n    }\n\n\n\n  constructor(props){\n    super(props)\n    this.state = {\n      auction_owner:'0x0',\n      connected_account:'0x000',\n      bid_placed:0,\n      prev_addr:'0x0000000000000',\n      curr_addr:'0x0000000000000',\n      prev_amount:'0',\n      curr_amount:'0',\n      loading : true,\n      Timer : Number(localStorage.getItem('Timer')),\n      auction_contract : {}\n\n    };\n    \n  }\n  render(){\n   \n    \n    return (\n      <div>\n        \n          \n      </div>\n      \n    );\n    \n  }\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AACtC,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,OAAO,MAAM,6BAA6B;AAAA;AAGjD,MAAMC,GAAG,SAASH,SAAS,CAAC;EAE1B;EACE,MAAMI,yBAAyB,GAAE;IAC/B,MAAM,IAAI,CAACC,QAAQ,EAAE;IACrB,MAAM,IAAI,CAACC,cAAc,EAAE;EAE7B;EAGF,MAAMD,QAAQ,GAAE;IACd,IAAGE,MAAM,CAACC,QAAQ,EAClB;MACED,MAAM,CAACE,IAAI,GAAG,IAAIR,IAAI,CAACM,MAAM,CAACC,QAAQ,CAAC;MACvC,MAAMD,MAAM,CAACC,QAAQ,CAACE,MAAM,EAAE;IAChC,CAAC,MACI,IAAGH,MAAM,CAACE,IAAI,EACnB;MACEF,MAAM,CAACE,IAAI,GAAG,IAAIR,IAAI,CAAEM,MAAM,CAACE,IAAI,CAACE,eAAe,CAAC;IACtD,CAAC,MACG;MACFJ,MAAM,CAACK,KAAK,CAAC,oBAAoB,CAAC;IACpC;EACF;EAEA,MAAMN,cAAc,GAAE;IACpB,MAAMG,IAAI,GAAGF,MAAM,CAACE,IAAI;IACxB,MAAMI,OAAO,GAAG,MAAMJ,IAAI,CAACK,GAAG,CAACC,WAAW,EAAE,CAAC,CAAC;IAC9C,IAAI,CAACC,QAAQ,CAAC;MAACC,iBAAiB,EAACJ;IAAO,CAAC,CAAC;;IAE1C;IACA,MAAMK,SAAS,GAAG,MAAMT,IAAI,CAACK,GAAG,CAACK,GAAG,CAACC,KAAK,EAAE;;IAE5C;IACA,MAAMC,YAAY,GAAGnB,OAAO,CAACoB,QAAQ,CAACJ,SAAS,CAAC;IAEhD,IAAGG,YAAY,EAAC;MACd,MAAME,IAAI,GAAG,IAAId,IAAI,CAACK,GAAG,CAACU,QAAQ,CAACtB,OAAO,CAACuB,GAAG,EAACJ,YAAY,CAACK,OAAO,CAAC;MACpE;MACA,IAAI,CAACC,WAAW,CAACJ,IAAI,CAAC;MACtB;IAGF;EAEF;;EAEAI,WAAW,CAAEC,KAAK,EAAC;IACjBC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAGF,KAAK,CAAC;IAC7B,IAAI,CAACZ,QAAQ,CAAC;MAACe,gBAAgB,EAACH;IAAK,CAAC,CAAC;IACvCI,CAAC;EACH;EACE,MAAMC,eAAe,GAAE;IACvB,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,KAAK,CAACJ,gBAAgB,CAACK,OAAO,CAACC,QAAQ,EAAE,CAACC,IAAI,EAAE;IACxE,IAAI,CAACtB,QAAQ,CAAC;MAACuB,aAAa,EAACL;IAAI,CAAC,CAAC;EACnC;EAIFM,WAAW,CAACC,KAAK,EAAC;IAChB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACN,KAAK,GAAG;MACXI,aAAa,EAAC,KAAK;MACnBtB,iBAAiB,EAAC,OAAO;MACzByB,UAAU,EAAC,CAAC;MACZC,SAAS,EAAC,iBAAiB;MAC3BC,SAAS,EAAC,iBAAiB;MAC3BC,WAAW,EAAC,GAAG;MACfC,WAAW,EAAC,GAAG;MACfC,OAAO,EAAG,IAAI;MACdC,KAAK,EAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;MAC7CpB,gBAAgB,EAAG,CAAC;IAEtB,CAAC;EAEH;EACAqB,MAAM,GAAE;IAGN,oBACE;MAAA;MAAA;MAAA;IAAA,QAGM;EAIV;AACF;AAEA,eAAejD,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}